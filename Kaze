-- Kaze UI Library v2.1 — WindUI-inspired • Mobile-Optimized • Delta Executor Safe
-- Usage:
-- local KazeUI = loadstring(game:HttpGet("https://.../Kaze.lua"))()
-- local Window = KazeUI:CreateWindow({ Title = "Justine Hub", Author = "Justine", Icon = "10039618734" })
-- local MainTab = Window:CreateTab("Main", "74198982546702")
-- MainTab:Section("Hello...")
-- MainTab:Paragraph("Info", "Look I made it...")

local KazeUI = {}
KazeUI.__index = KazeUI

-- === SERVICES === --
local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local TextService = game:GetService("TextService")
local LP = Players.LocalPlayer
local Camera = workspace.CurrentCamera

-- === THEME (Editable) === --
local Theme = {
	Primary = Color3.fromRGB(0, 160, 255),
	Secondary = Color3.fromRGB(0, 140, 200),
	Background = Color3.fromRGB(20, 20, 25),
	Card = Color3.fromRGB(24, 24, 28),
	CardActive = Color3.fromRGB(32, 32, 36),
	TextPrimary = Color3.fromRGB(235, 235, 235),
	TextSecondary = Color3.fromRGB(160, 160, 160),
	TextInactive = Color3.fromRGB(200, 200, 200),
	Divider = Color3.fromRGB(0, 200, 255),
	Success = Color3.fromRGB(117, 204, 50),
	Warning = Color3.fromRGB(255, 204, 51),
	Error = Color3.fromRGB(235, 80, 80),
}

-- === UTILS === --
local function FormatImage(id)
	if not id then return "" end
	local str = tostring(id)
	local clean = str:gsub("%D", "")
	return clean == "" and "" or "rbxassetid://" .. clean
end

local function SafeConnect(signal, callback)
	if not signal or not callback then return end
	local conn
	conn = signal:Connect(function(...)
		if not conn then return end
		task.spawn(callback, ...)
	end)	return conn
end

local function MakeDraggable(dragPart, targetFrame)
	local dragging = false
	local dragStart, startPos

	SafeConnect(dragPart.InputBegan, function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = targetFrame.Position
		end
	end)

	SafeConnect(dragPart.InputEnded, function(input)
		if (input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch) then
			dragging = false
		end
	end)

	SafeConnect(UIS.InputChanged, function(input)
		if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - dragStart
			targetFrame.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)
end

local function StartNeonLoop(target)
	if not target or not target:IsDescendantOf(workspace) then return end
	task.spawn(function()
		while target and target.Parent do
			local propName = nil
			if pcall(function() return target.Color end) then
				propName = "Color"
			elseif pcall(function() return target.BackgroundColor3 end) then
				propName = "BackgroundColor3"
			else
				break
			end

			local tweenInfo = TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true)
			local ok, tween = pcall(function()
				return TweenService:Create(target, tweenInfo, { [propName] = Color3.fromRGB(0, 255, 255) })
			end)
			if ok and tween then				tween:Play()
			end
			task.wait(1.5)
		end
	end)
end

-- === PARAGRAPH FACTORY === --
local function CreateParagraph(parent, title, body, strokeColor)
	title = tostring(title or "")
	body = tostring(body or "")
	strokeColor = strokeColor or Theme.Primary

	local wrapper = Instance.new("Frame")
	wrapper.Name = "ParagraphWrapper"
	wrapper.BackgroundTransparency = 1
	wrapper.AutomaticSize = Enum.AutomaticSize.Y
	wrapper.Parent = parent

	local function updateSize()
		local w = parent.AbsoluteSize.X * 0.95
		if w <= 0 then w = 520 end

		local titleHeight = 0
		if title ~= "" then
			local ts = TextService:GetTextSize(title, 16, Enum.Font.GothamBold, Vector2.new(w - 32, 1000))
			titleHeight = math.max(20, math.ceil(ts.Y))
		end

		local bodySize = TextService:GetTextSize(body, 14, Enum.Font.Gotham, Vector2.new(w - 32, 2000))
		local bodyHeight = math.ceil(bodySize.Y)
		local totalHeight = 10 + titleHeight + 6 + bodyHeight + 10

		local paraFrame = wrapper:FindFirstChild("Paragraph")
		local glow = wrapper:FindFirstChild("ParagraphGlow")
		if not paraFrame or not glow then return end

		paraFrame.Size = UDim2.new(0.95, 0, 0, totalHeight)
		glow.Size = UDim2.new(0.96, 0, 0, totalHeight + 10)
		wrapper.Size = UDim2.new(1, 0, 0, totalHeight + 12)

		if paraFrame:FindFirstChild("ParagraphTitle") then
			paraFrame.ParagraphTitle.Size = UDim2.new(1, 0, 0, titleHeight)
		end
		if paraFrame:FindFirstChild("Inner") and paraFrame.Inner:FindFirstChild("ParagraphBody") then
			paraFrame.Inner.ParagraphBody.Size = UDim2.new(1, 0, 0, bodyHeight)
		end
	end

	local paraFrame = Instance.new("Frame")	paraFrame.Name = "Paragraph"
	paraFrame.AnchorPoint = Vector2.new(0.5, 0)
	paraFrame.Position = UDim2.new(0.5, 0, 0, 6)
	paraFrame.BackgroundColor3 = Theme.Card
	paraFrame.BorderSizePixel = 0
	Instance.new("UICorner", paraFrame).CornerRadius = UDim.new(0, 8)
	paraFrame.Parent = wrapper

	local glow = Instance.new("Frame")
	glow.Name = "ParagraphGlow"
	glow.AnchorPoint = Vector2.new(0.5, 0)
	glow.Position = UDim2.new(0.5, 0, 0, 4)
	glow.BackgroundTransparency = 0.96
	glow.BackgroundColor3 = strokeColor
	Instance.new("UICorner", glow).CornerRadius = UDim.new(0, 10)
	glow.Parent = wrapper
	StartNeonLoop(glow)

	local stroke = Instance.new("UIStroke", paraFrame)
	stroke.Thickness = 2
	stroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	stroke.Color = strokeColor
	StartNeonLoop(stroke)

	local inner = Instance.new("Frame")
	inner.Name = "Inner"
	inner.Size = UDim2.new(1, -20, 1, -20)
	inner.Position = UDim2.fromOffset(10, 10)
	inner.BackgroundTransparency = 1
	inner.Parent = paraFrame

	if title ~= "" then
		local titleLabel = Instance.new("TextLabel")
		titleLabel.Name = "ParagraphTitle"
		titleLabel.BackgroundTransparency = 1
		titleLabel.Text = title
		titleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
		titleLabel.Font = Enum.Font.GothamBold
		titleLabel.TextSize = 16
		titleLabel.TextXAlignment = Enum.TextXAlignment.Left
		titleLabel.TextWrapped = true
		titleLabel.Parent = inner
	end

	local bodyLabel = Instance.new("TextLabel")
	bodyLabel.Name = "ParagraphBody"
	bodyLabel.BackgroundTransparency = 1
	bodyLabel.Text = body
	bodyLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
	bodyLabel.Font = Enum.Font.Gotham	bodyLabel.TextSize = 14
	bodyLabel.TextWrapped = true
	bodyLabel.TextXAlignment = Enum.TextXAlignment.Left
	bodyLabel.TextYAlignment = Enum.TextYAlignment.Top
	bodyLabel.Parent = inner

	updateSize()

	return {
		SetText = function(self, newText)
			body = tostring(newText or "")
			bodyLabel.Text = body
			task.defer(updateSize)
		end
	}
end

-- === SECTION FACTORY === --
local function CreateSection(parent, title)
	title = tostring(title or "")

	local frame = Instance.new("Frame")
	frame.Name = "Section_" .. (title:gsub("%W", "_"))
	frame.BackgroundTransparency = 1
	frame.AutomaticSize = Enum.AutomaticSize.Y
	frame.Parent = parent

	local layout = Instance.new("UIListLayout")
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.Padding = UDim.new(0, 6)
	layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	layout.VerticalAlignment = Enum.VerticalAlignment.Top
	layout.Parent = frame

	if title ~= "" then
		local titleLabel = Instance.new("TextLabel")
		titleLabel.Size = UDim2.new(1, 0, 0, 36)
		titleLabel.BackgroundTransparency = 1
		titleLabel.Text = title
		titleLabel.TextColor3 = Theme.Primary
		titleLabel.Font = Enum.Font.GothamBold
		titleLabel.TextSize = 22
		titleLabel.TextWrapped = true
		titleLabel.TextXAlignment = Enum.TextXAlignment.Center
		titleLabel.Parent = frame

		local sep = Instance.new("Frame")
		sep.Size = UDim2.new(0.6, 0, 0, 2)
		sep.BackgroundColor3 = Color3.fromRGB(38, 38, 42)
		sep.BorderSizePixel = 0		Instance.new("UICorner", sep).CornerRadius = UDim.new(0, 4)
		sep.Parent = frame
	end

	local content = Instance.new("Frame")
	content.Name = "Content"
	content.BackgroundTransparency = 1
	content.AutomaticSize = Enum.AutomaticSize.Y
	content.Parent = frame

	local contentLayout = Instance.new("UIListLayout")
	contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
	contentLayout.Padding = UDim.new(0, 8)
	contentLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	contentLayout.VerticalAlignment = Enum.VerticalAlignment.Top
	contentLayout.Parent = content

	return {
		AddLabel = function(self, text)
			local label = Instance.new("TextLabel")
			label.Size = UDim2.new(1, -40, 0, 24)
			label.BackgroundTransparency = 1
			label.Text = tostring(text or "")
			label.TextColor3 = Color3.fromRGB(220, 220, 220)
			label.Font = Enum.Font.Gotham
			label.TextSize = 14
			label.TextXAlignment = Enum.TextXAlignment.Left
			label.Parent = content
			return label
		end,

		AddParagraph = function(self, ptitle, pbody)
			return CreateParagraph(content, ptitle, pbody, Theme.Primary)
		end
	}
end

-- === TAB CLASS === --
local Tab = {}
Tab.__index = Tab

function Tab.new(sidebarList, pagesFrame, name, iconId)
	name = tostring(name or "Tab")
	iconId = FormatImage(iconId)

	local btn = Instance.new("TextButton")
	btn.Name = "Tab_" .. name
	btn.Size = UDim2.new(1, -16, 0, 44)
	btn.BackgroundColor3 = Theme.Card
	btn.BorderSizePixel = 0	btn.Text = ""
	btn.AutoButtonColor = false
	btn.Parent = sidebarList

	Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 6)

	local indicator = Instance.new("Frame")
	indicator.Size = UDim2.new(0, 4, 1, 0)
	indicator.BackgroundColor3 = Theme.Primary
	indicator.BorderSizePixel = 0
	indicator.Visible = false
	Instance.new("UICorner", indicator).CornerRadius = UDim.new(0, 6)
	indicator.Parent = btn

	local icon = Instance.new("ImageLabel")
	icon.Size = UDim2.fromOffset(28, 28)
	icon.Position = UDim2.new(0, 10, 0.5, -14)
	icon.BackgroundTransparency = 1
	icon.Image = iconId
	Instance.new("UICorner", icon).CornerRadius = UDim.new(1, 0)
	icon.Parent = btn

	local label = Instance.new("TextLabel")
	label.Size = UDim2.new(1, -56, 1, 0)
	label.Position = UDim2.fromOffset(48, 0)
	label.BackgroundTransparency = 1
	label.Text = name
	label.TextColor3 = Theme.TextInactive
	label.Font = Enum.Font.Gotham
	label.TextSize = 15
	label.TextXAlignment = Enum.TextXAlignment.Left
	label.Parent = btn

	local page = Instance.new("ScrollingFrame")
	page.Name = "Page_" .. name
	page.Size = UDim2.new(1, 0, 1, 0)
	page.BackgroundTransparency = 1
	page.Visible = false
	page.ScrollBarThickness = 4
	page.ScrollBarImageColor3 = Color3.fromRGB(40, 40, 45)
	page.CanvasSize = UDim2.new(0, 0, 0, 0)
	page.AutomaticCanvasSize = Enum.AutomaticSize.Y
	page.Parent = pagesFrame

	local layout = Instance.new("UIListLayout")
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.Padding = UDim.new(0, 12)
	layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
	layout.VerticalAlignment = Enum.VerticalAlignment.Top
	layout.Parent = page
	local self = setmetatable({
		Button = btn,
		Page = page,
		Indicator = indicator,
		Label = label,
	}, Tab)

	function self:Activate(allTabs)
		for _, t in ipairs(allTabs) do
			t.Button.BackgroundColor3 = Theme.Card
			t.Indicator.Visible = false
			t.Page.Visible = false
			t.Label.TextColor3 = Theme.TextInactive
			t.Label.Font = Enum.Font.Gotham
		end

		btn.BackgroundColor3 = Theme.CardActive
		indicator.Visible = true
		page.Visible = true
		label.TextColor3 = Theme.TextPrimary
		label.Font = Enum.Font.GothamBold
	end

	SafeConnect(btn.MouseEnter, function()
		if not indicator.Visible then
			TweenService:Create(btn, TweenInfo.new(0.1), { BackgroundColor3 = Color3.fromRGB(28, 28, 31) }):Play()
			label.TextColor3 = Color3.fromRGB(220, 220, 220)
		end
	end)

	SafeConnect(btn.MouseLeave, function()
		if not indicator.Visible then
			TweenService:Create(btn, TweenInfo.new(0.1), { BackgroundColor3 = Theme.Card }):Play()
			label.TextColor3 = Theme.TextInactive
		end
	end)

	return self
end

-- === WINDOW CLASS === --
function KazeUI:CreateWindow(config)
	config = config or {}
	local Title = config.Title or "Kaze UI"
	local Author = config.Author or "Unknown"
	local Version = config.Version or "1.0"
	local Icon = FormatImage(config.Icon or "6031763447")
	local OpenIcon = FormatImage((config.OpenButton and config.OpenButton.Icon) or config.Icon or "6031763447")
	-- ScreenGui
	local ScreenGui = Instance.new("ScreenGui")
	ScreenGui.Name = "KazeUI"
	ScreenGui.ResetOnSpawn = false
	ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	ScreenGui.IgnoreGuiInset = true
	ScreenGui.Parent = LP:WaitForChild("PlayerGui")

	-- UIScale
	local UIScale = Instance.new("UIScale")
	UIScale.Scale = 1
	UIScale.Parent = ScreenGui

	local function UpdateScale()
		local size = Camera.ViewportSize
		if size.X < 600 then
			UIScale.Scale = math.clamp(size.X / 800, 0.5, 1)
		else
			UIScale.Scale = math.clamp(size.X / 1920, 0.6, 1)
		end
	end

	UpdateScale()
	Camera:GetPropertyChangedSignal("ViewportSize"):Connect(UpdateScale)

	-- Window Frame
	local Window = Instance.new("Frame")
	Window.Size = UDim2.fromOffset(650, 420)
	Window.Position = UDim2.fromScale(0.5, 0.5)
	Window.AnchorPoint = Vector2.new(0.5, 0.5)
	Window.BackgroundColor3 = Theme.Background
	Window.BorderSizePixel = 0
	Window.ClipsDescendants = true
	Window.Parent = ScreenGui

	Instance.new("UICorner", Window).CornerRadius = UDim.new(0, 14)

	local WindowStroke = Instance.new("UIStroke")
	WindowStroke.Color = Theme.Primary
	WindowStroke.Thickness = 2.5
	WindowStroke.Parent = Window
	StartNeonLoop(WindowStroke)

	-- TopBar
	local TopBar = Instance.new("Frame")
	TopBar.Size = UDim2.new(1, 0, 0, 56)
	TopBar.BackgroundColor3 = Color3.fromRGB(15, 15, 20)
	TopBar.BorderSizePixel = 0
	TopBar.Parent = Window
	Instance.new("UICorner", TopBar).CornerRadius = UDim.new(0, 14)	MakeDraggable(TopBar, Window)

	-- Avatar
	local Avatar = Instance.new("ImageLabel")
	Avatar.Size = UDim2.fromOffset(36, 36)
	Avatar.Position = UDim2.fromOffset(12, 10)
	Avatar.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
	Avatar.Image = Icon
	Avatar.Parent = TopBar
	Instance.new("UICorner", Avatar).CornerRadius = UDim.new(1, 0)
	local avatarStroke = Instance.new("UIStroke", Avatar)
	avatarStroke.Color = Theme.Secondary
	avatarStroke.Thickness = 1

	-- Labels
	local TitleLabel = Instance.new("TextLabel")
	TitleLabel.Size = UDim2.new(1, -220, 0, 22)
	TitleLabel.Position = UDim2.fromOffset(56, 8)
	TitleLabel.BackgroundTransparency = 1
	TitleLabel.Text = Title
	TitleLabel.TextColor3 = Theme.TextPrimary
	TitleLabel.Font = Enum.Font.GothamBold
	TitleLabel.TextSize = 16
	TitleLabel.Parent = TopBar

	local SubLabel = Instance.new("TextLabel")
	SubLabel.Size = UDim2.new(1, -220, 0, 18)
	SubLabel.Position = UDim2.fromOffset(56, 30)
	SubLabel.BackgroundTransparency = 1
	SubLabel.Text = Author .. " | v" .. Version
	SubLabel.TextColor3 = Theme.TextSecondary
	SubLabel.Font = Enum.Font.Gotham
	SubLabel.TextSize = 13
	SubLabel.Parent = TopBar

	-- Divider
	local TopDivider = Instance.new("Frame")
	TopDivider.Size = UDim2.new(1, 0, 0, 2)
	TopDivider.Position = UDim2.new(0, 0, 1, -2)
	TopDivider.BackgroundColor3 = Theme.Divider
	TopDivider.BorderSizePixel = 0
	TopDivider.ZIndex = 5
	TopDivider.Parent = TopBar
	Instance.new("UICorner", TopDivider).CornerRadius = UDim.new(0, 6)
	local topDivStroke = Instance.new("UIStroke", TopDivider)
	topDivStroke.Color = Theme.Primary
	topDivStroke.Thickness = 2.5
	StartNeonLoop(topDivStroke)

	-- Traffic Lights	local function createTrafficBtn(name, offsetX, color)
		local btn = Instance.new("TextButton")
		btn.Size = UDim2.fromOffset(18, 18)
		btn.Position = UDim2.new(1, offsetX, 0.5, -9)
		btn.BackgroundColor3 = color
		btn.BorderSizePixel = 0
		btn.Text = ""
		btn.Parent = TopBar
		Instance.new("UICorner", btn).CornerRadius = UDim.new(1, 0)
		Instance.new("UIStroke", btn).Color = Color3.fromRGB(0, 0, 0)
		return btn
	end

	local BtnGreen = createTrafficBtn("Minimize", -120, Theme.Success)
	local BtnYellow = createTrafficBtn("Maximize", -88, Theme.Warning)
	local BtnRed = createTrafficBtn("Close", -56, Theme.Error)

	-- Mini Button
	local MiniButton = Instance.new("ImageButton")
	MiniButton.Size = UDim2.fromOffset(60, 60)
	MiniButton.Position = UDim2.fromScale(0.1, 0.1)
	MiniButton.BackgroundColor3 = Theme.Background
	MiniButton.BorderSizePixel = 0
	MiniButton.Visible = false
	MiniButton.ZIndex = 999
	MiniButton.ScaleType = Enum.ScaleType.Slice
	MiniButton.SliceCenter = Rect.new(4, 4, 60, 60)
	MiniButton.Parent = ScreenGui
	Instance.new("UICorner", MiniButton).CornerRadius = UDim.new(0, 12)
	local miniPadding = Instance.new("UIPadding")
	miniPadding.PaddingTop = UDim.new(0, 4)
	miniPadding.PaddingBottom = UDim.new(0, 4)
	miniPadding.PaddingLeft = UDim.new(0, 4)
	miniPadding.PaddingRight = UDim.new(0, 4)
	miniPadding.Parent = MiniButton

	local MiniIcon = Instance.new("ImageLabel")
	MiniIcon.Size = UDim2.fromScale(1, 1)
	MiniIcon.Position = UDim2.fromScale(0.5, 0.5)
	MiniIcon.AnchorPoint = Vector2.new(0.5, 0.5)
	MiniIcon.BackgroundTransparency = 1
	MiniIcon.Image = OpenIcon
	MiniIcon.ZIndex = 1000
	MiniIcon.Parent = MiniButton

	local MiniStroke = Instance.new("UIStroke")
	MiniStroke.Color = Theme.Primary
	MiniStroke.Thickness = 2.5
	MiniStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	MiniStroke.Parent = MiniButton	StartNeonLoop(MiniStroke)

	MakeDraggable(MiniButton, MiniButton)

	-- State
	local defaultSize = UDim2.fromOffset(650, 420)
	local lastNormalSize = defaultSize
	local lastNormalPos = UDim2.fromScale(0.5, 0.5)
	local lastAnchor = Vector2.new(0.5, 0.5)
	local isMaximized = false

	-- Minimize
	SafeConnect(BtnYellow.MouseButton1Click, function()
		Window.Visible = false
		MiniButton.Visible = true
		MiniButton.Size = UDim2.fromOffset(0, 0)
		TweenService:Create(MiniButton, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
			Size = UDim2.fromOffset(60, 60)
		}):Play()
	end)

	-- Maximize/Restore
	SafeConnect(BtnGreen.MouseButton1Click, function()
		if not isMaximized then
			lastNormalSize = Window.Size
			lastNormalPos = Window.Position
			lastAnchor = Window.AnchorPoint
			isMaximized = true
			Window.AnchorPoint = Vector2.new(0.5, 0.5)
			Window.Position = UDim2.fromScale(0.5, 0.5)
			TweenService:Create(Window, TweenInfo.new(0.25), {
				Size = UDim2.fromScale(0.9, 0.85)
			}):Play()
		else
			isMaximized = false
			TweenService:Create(Window, TweenInfo.new(0.25), {
				Size = lastNormalSize,
				Position = lastNormalPos
			}):Play()
			task.delay(0.25, function()
				if Window then Window.AnchorPoint = lastAnchor end
			end)
		end
	end)

	-- Restore from Mini
	SafeConnect(MiniButton.MouseButton1Click, function()
		MiniButton.Visible = false
		Window.Visible = true
		Window.Size = UDim2.fromOffset(0, 0)		if isMaximized then
			Window.AnchorPoint = Vector2.new(0.5, 0.5)
			Window.Position = UDim2.fromScale(0.5, 0.5)
			TweenService:Create(Window, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
				Size = UDim2.fromScale(0.9, 0.85)
			}):Play()
		else
			Window.AnchorPoint = lastAnchor
			Window.Position = lastNormalPos
			TweenService:Create(Window, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
				Size = lastNormalSize,
				Position = lastNormalPos
			}):Play()
		end
	end)

	-- Close Confirm
	local function ShowCloseConfirm()
		local overlay = Instance.new("Frame")
		overlay.Size = UDim2.new(1, 0, 1, 0)
		overlay.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
		overlay.BackgroundTransparency = 0.6
		overlay.ZIndex = 50
		overlay.Parent = Window

		local confirmFrame = Instance.new("Frame")
		confirmFrame.Size = UDim2.fromOffset(350, 150)
		confirmFrame.AnchorPoint = Vector2.new(0.5, 0.5)
		confirmFrame.Position = UDim2.fromScale(0.5, 0.5)
		confirmFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 30)
		confirmFrame.ZIndex = 52
		confirmFrame.Parent = overlay
		Instance.new("UICorner", confirmFrame).CornerRadius = UDim.new(0, 12)

		local stroke = Instance.new("UIStroke")
		stroke.Color = Theme.Primary
		stroke.Thickness = 2.5
		stroke.Parent = confirmFrame
		StartNeonLoop(stroke)

		local text = Instance.new("TextLabel")
		text.Size = UDim2.new(1, -32, 0, 48)
		text.Position = UDim2.fromOffset(16, 20)
		text.BackgroundTransparency = 1
		text.Text = "Are you sure you want to close the UI?"
		text.TextColor3 = Color3.fromRGB(230, 230, 230)
		text.Font = Enum.Font.GothamBold
		text.TextSize = 18
		text.TextWrapped = true
		text.ZIndex = 53		text.Parent = confirmFrame

		local btns = Instance.new("Frame")
		btns.Size = UDim2.new(1, 0, 0, 40)
		btns.Position = UDim2.new(0, 0, 1, -20)
		btns.BackgroundTransparency = 1
		btns.ZIndex = 53
		btns.Parent = confirmFrame

		local layout = Instance.new("UIListLayout")
		layout.FillDirection = Enum.FillDirection.Horizontal
		layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
		layout.Padding = UDim.new(0, 16)
		layout.Parent = btns

		local confirmBtn = Instance.new("TextButton")
		confirmBtn.Size = UDim2.new(0, 120, 0, 36)
		confirmBtn.BackgroundColor3 = Theme.Primary
		confirmBtn.Text = "Confirm"
		confirmBtn.TextColor3 = Color3.fromRGB(230, 230, 230)
		confirmBtn.Font = Enum.Font.GothamBold
		confirmBtn.ZIndex = 54
		confirmBtn.Parent = btns
		Instance.new("UICorner", confirmBtn).CornerRadius = UDim.new(0, 8)

		local cancelBtn = Instance.new("TextButton")
		cancelBtn.Size = UDim2.new(0, 120, 0, 36)
		cancelBtn.BackgroundColor3 = Color3.fromRGB(45, 45, 50)
		cancelBtn.Text = "Cancel"
		cancelBtn.TextColor3 = Color3.fromRGB(220, 220, 220)
		cancelBtn.Font = Enum.Font.GothamBold
		cancelBtn.ZIndex = 54
		cancelBtn.Parent = btns
		Instance.new("UICorner", cancelBtn).CornerRadius = UDim.new(0, 8)

		SafeConnect(confirmBtn.MouseButton1Click, function()
			ScreenGui:Destroy()
		end)

		SafeConnect(cancelBtn.MouseButton1Click, function()
			overlay:Destroy()
		end)
	end

	SafeConnect(BtnRed.MouseButton1Click, ShowCloseConfirm)

	-- Content Area
	local Content = Instance.new("Frame")
	Content.Position = UDim2.fromOffset(0, 56)
	Content.Size = UDim2.new(1, 0, 1, -56)	Content.BackgroundTransparency = 1
	Content.Parent = Window

	-- Sidebar
	local SideBar = Instance.new("Frame")
	SideBar.Size = UDim2.new(0, 180, 1, 0)
	SideBar.BackgroundColor3 = Theme.Background
	SideBar.BorderSizePixel = 0
	SideBar.Parent = Content
	Instance.new("UICorner", SideBar).CornerRadius = UDim.new(0, 14)

	-- Vertical Divider
	local VertDivider = Instance.new("Frame")
	VertDivider.Size = UDim2.new(0, 2, 1, 0)
	VertDivider.Position = UDim2.new(0, 180, 0, 0)
	VertDivider.BackgroundColor3 = Theme.Primary
	VertDivider.BorderSizePixel = 0
	VertDivider.Parent = Content
	Instance.new("UICorner", VertDivider).CornerRadius = UDim.new(0, 6)
	local vertStroke = Instance.new("UIStroke", VertDivider)
	vertStroke.Color = Theme.Primary
	vertStroke.Thickness = 2.5
	StartNeonLoop(vertStroke)

	-- Pages Container
	local Pages = Instance.new("Frame")
	Pages.Position = UDim2.new(0, 182, 0, 0)
	Pages.Size = UDim2.new(1, -182, 1, 0)
	Pages.BackgroundColor3 = Color3.fromRGB(18, 18, 23)
	Pages.BorderSizePixel = 0
	Pages.Parent = Content
	Instance.new("UICorner", Pages).CornerRadius = UDim.new(0, 12)

	-- Scrollable Tabs
	local TabsScroller = Instance.new("ScrollingFrame")
	TabsScroller.BackgroundTransparency = 1
	TabsScroller.ScrollBarThickness = 6
	TabsScroller.ScrollBarImageColor3 = Color3.fromRGB(40, 40, 45)
	TabsScroller.Size = UDim2.new(1, -16, 1, -16)
	TabsScroller.Position = UDim2.fromOffset(8, 8)
	TabsScroller.CanvasSize = UDim2.new(0, 0, 0, 0)
	TabsScroller.AutomaticCanvasSize = Enum.AutomaticSize.Y
	TabsScroller.Parent = SideBar

	local TabsList = Instance.new("Frame")
	TabsList.BackgroundTransparency = 1
	TabsList.Size = UDim2.new(1, 0, 0, 0)
	TabsList.AutomaticSize = Enum.AutomaticSize.Y
	TabsList.Parent = TabsScroller
	Instance.new("UIListLayout", TabsList).SortOrder = Enum.SortOrder.LayoutOrder
	Instance.new("UIPadding", TabsList).PaddingBottom = UDim.new(0, 8)

	-- Window API
	local Win = {
		_Tabs = {},
		_Pages = Pages,
		_TabsList = TabsList,
		_ScreenGui = ScreenGui
	}

	function Win:CreateTab(name, iconId)
		local tab = Tab.new(TabsList, Pages, name, iconId)
		table.insert(self._Tabs, tab)

		SafeConnect(tab.Button.MouseButton1Click, function()
			tab:Activate(self._Tabs)
		end)

		if #self._Tabs == 1 then
			tab:Activate(self._Tabs)
		end

		-- Public Tab API
		local publicTab = {}

		function publicTab:Section(title)
			return CreateSection(tab.Page, title)
		end

		function publicTab:Paragraph(ptitle, pbody)
			return CreateParagraph(tab.Page, ptitle, pbody, Theme.Primary)
		end

		return publicTab
	end

	if typeof(config.Callback) == "function" then
		task.spawn(config.Callback)
	end

	return Win
end

return KazeUI
