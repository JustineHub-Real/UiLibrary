-- ðŸŒªï¸ KazeUI v2 â€” Modular, Theme-Driven, WindUI-inspired
-- Author: Kazu | Inspired by WindUI | Glowing Aesthetic Preserved

local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local UIS = game:GetService("UserInputService")
local TextService = game:GetService("TextService")
local LP = Players.LocalPlayer

-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
-- â–ˆ   CORE UTILITIES   â–ˆ
-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

local function FormatImage(id)
	if not id then return "" end
	id = tostring(id):gsub("%D", "")
	return id == "" and "" or "rbxassetid://" .. id
end

local function MakeDraggable(dragPart, targetPart)
	local dragging, dragStart, startPos

	dragPart.InputBegan:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = true
			dragStart = input.Position
			startPos = targetPart.Position
		end
	end)

	dragPart.InputChanged:Connect(function(input)
		if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
			local delta = input.Position - dragStart
			targetPart.Position = UDim2.new(
				startPos.X.Scale, startPos.X.Offset + delta.X,
				startPos.Y.Scale, startPos.Y.Offset + delta.Y
			)
		end
	end)

	UIS.InputEnded:Connect(function(input)
		if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
			dragging = false
		end
	end)
end

local function StartNeonLoop(target)
	if not target then return end
	task.spawn(function()		while target and target.Parent do
			local propName = pcall(function() return target.Color end) and "Color" or
			                 pcall(function() return target.BackgroundColor3 end) and "BackgroundColor3"
			if not propName then break end

			local tween = TweenService:Create(target, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
				[propName] = Color3.fromRGB(0, 255, 255)
			})
			tween:Play()
			task.wait(1.5)
		end
	end)
end

-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
-- â–ˆ     THEME SYSTEM   â–ˆ
-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

local Theme = {
	-- Window
	WindowBG = Color3.fromRGB(20, 20, 25),
	TopBarBG = Color3.fromRGB(15, 15, 20),
	StrokeColor = Color3.fromRGB(0, 160, 255),
	GlowBase = Color3.fromRGB(0, 140, 200),

	-- Tabs
	TabBG = Color3.fromRGB(24, 24, 28),
	TabBGActive = Color3.fromRGB(32, 32, 36),
	TabHover = Color3.fromRGB(28, 28, 31),
	TabTextInactive = Color3.fromRGB(200, 200, 200),
	TabTextActive = Color3.fromRGB(240, 240, 240),

	-- Content
	ContentBG = Color3.fromRGB(18, 18, 23),
	Separator = Color3.fromRGB(38, 38, 42),

	-- Text
	TitleColor = Color3.fromRGB(235, 235, 235),
	SubtitleColor = Color3.fromRGB(160, 160, 160),
	SectionTitle = Color3.fromRGB(0, 120, 255),
	BodyText = Color3.fromRGB(255, 255, 255),

	-- Fonts
	TitleFont = Enum.Font.GothamBold,
	BodyFont = Enum.Font.Gotham,

	-- Sizes
	TabHeight = 44,
	CornerRadius = 8,
	WindowCornerRadius = 14,}

-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
-- â–ˆ   COMPONENT FACTORIES
-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

local function CreateParagraph(parent, title, body, strokeColor)
	strokeColor = strokeColor or Theme.StrokeColor
	title = tostring(title or "")
	body = tostring(body or "")

	local measuredWidth = parent.AbsoluteSize.X > 0 and parent.AbsoluteSize.X * 0.95 or 520

	local titleSize = title ~= "" and TextService:GetTextSize(title, 16, Theme.TitleFont, Vector2.new(measuredWidth - 32, 1e6)) or Vector2.new(0, 0)
	local titleHeight = title ~= "" and math.max(20, math.ceil(titleSize.Y)) or 0

	local bodySize = TextService:GetTextSize(body, 14, Theme.BodyFont, Vector2.new(measuredWidth - 32, 1e6))
	local bodyHeight = math.ceil(bodySize.Y)
	local totalHeight = 10 + titleHeight + 6 + bodyHeight + 10

	local wrapper = Instance.new("Frame")
	wrapper.BackgroundTransparency = 1
	wrapper.AutomaticSize = Enum.AutomaticSize.Y
	wrapper.Size = UDim2.new(1, 0, 0, totalHeight + 12)
	wrapper.Parent = parent

	local glow = Instance.new("Frame")
	glow.AnchorPoint = Vector2.new(0.5, 0)
	glow.Position = UDim2.new(0.5, 0, 0, 4)
	glow.Size = UDim2.new(0.96, 0, 0, totalHeight + 10)
	glow.BackgroundColor3 = strokeColor
	glow.BackgroundTransparency = 0.96
	glow.Parent = wrapper
	Instance.new("UICorner", glow).CornerRadius = UDim.new(0, Theme.CornerRadius + 2)
	StartNeonLoop(glow)

	local frame = Instance.new("Frame")
	frame.BackgroundColor3 = Theme.TabBG
	frame.Size = UDim2.new(0.95, 0, 0, totalHeight)
	frame.Position = UDim2.new(0.5, 0, 0, 6)
	frame.AnchorPoint = Vector2.new(0.5, 0)
	frame.Parent = wrapper
	Instance.new("UICorner", frame).CornerRadius = UDim.new(0, Theme.CornerRadius)

	local stroke = Instance.new("UIStroke")
	stroke.Thickness = 2
	stroke.Color = strokeColor
	stroke.Parent = frame
	StartNeonLoop(stroke)
	local inner = Instance.new("Frame")
	inner.Size = UDim2.new(1, -20, 1, -20)
	inner.Position = UDim2.fromOffset(10, 10)
	inner.BackgroundTransparency = 1
	inner.Parent = frame

	if title ~= "" then
		local titleLabel = Instance.new("TextLabel")
		titleLabel.BackgroundTransparency = 1
		titleLabel.Size = UDim2.new(1, 0, 0, titleHeight)
		titleLabel.Text = title
		titleLabel.TextColor3 = Theme.BodyText
		titleLabel.Font = Theme.TitleFont
		titleLabel.TextSize = 16
		titleLabel.TextWrapped = true
		titleLabel.Parent = inner
	end

	local bodyLabel = Instance.new("TextLabel")
	bodyLabel.BackgroundTransparency = 1
	bodyLabel.Size = UDim2.new(1, 0, 0, bodyHeight)
	bodyLabel.Position = UDim2.fromOffset(0, titleHeight + 6)
	bodyLabel.Text = body
	bodyLabel.TextColor3 = Theme.BodyText
	bodyLabel.Font = Theme.BodyFont
	bodyLabel.TextSize = 14
	bodyLabel.TextWrapped = true
	bodyLabel.TextXAlignment = Enum.TextXAlignment.Left
	bodyLabel.TextYAlignment = Enum.TextYAlignment.Top
	bodyLabel.Parent = inner

	return {
		Wrapper = wrapper,
		SetText = function(self, newText)
			bodyLabel.Text = tostring(newText)
			task.defer(function()
				local w = parent.AbsoluteSize.X > 0 and parent.AbsoluteSize.X * 0.95 or 520
				local newBodySize = TextService:GetTextSize(newText, 14, Theme.BodyFont, Vector2.new(w - 32, 1e6))
				local newBodyH = math.ceil(newBodySize.Y)
				local newTotal = 10 + titleHeight + 6 + newBodyH + 10
				frame.Size = UDim2.new(0.95, 0, 0, newTotal)
				glow.Size = UDim2.new(0.96, 0, 0, newTotal + 10)
				wrapper.Size = UDim2.new(1, 0, 0, newTotal + 12)
				bodyLabel.Size = UDim2.new(1, 0, 0, newBodyH)
			end)
		end
	}
end

local function CreateSection(parent, title)	title = tostring(title or "")

	local section = Instance.new("Frame")
	section.BackgroundTransparency = 1
	section.AutomaticSize = Enum.AutomaticSize.Y
	section.Size = UDim2.new(1, -24, 0, 0)
	section.Parent = parent

	local layout = Instance.new("UIListLayout", section)
	layout.SortOrder = Enum.SortOrder.LayoutOrder
	layout.Padding = UDim.new(0, 6)
	layout.HorizontalAlignment = Enum.HorizontalAlignment.Center

	if title ~= "" then
		local titleLabel = Instance.new("TextLabel")
		titleLabel.Size = UDim2.new(1, 0, 0, 36)
		titleLabel.BackgroundTransparency = 1
		titleLabel.Text = title
		titleLabel.TextColor3 = Theme.SectionTitle
		titleLabel.Font = Theme.TitleFont
		titleLabel.TextSize = 22
		titleLabel.TextWrapped = true
		titleLabel.TextXAlignment = Enum.TextXAlignment.Center
		titleLabel.Parent = section

		local sep = Instance.new("Frame")
		sep.Size = UDim2.new(0.6, 0, 0, 2)
		sep.BackgroundColor3 = Theme.Separator
		sep.BorderSizePixel = 0
		sep.Parent = section
		Instance.new("UICorner", sep).CornerRadius = UDim.new(0, 4)
	end

	local content = Instance.new("Frame")
	content.BackgroundTransparency = 1
	content.AutomaticSize = Enum.AutomaticSize.Y
	content.Size = UDim2.new(1, 0, 0, 0)
	content.Parent = section

	local contentLayout = Instance.new("UIListLayout", content)
	contentLayout.SortOrder = Enum.SortOrder.LayoutOrder
	contentLayout.Padding = UDim.new(0, 8)
	contentLayout.HorizontalAlignment = Enum.HorizontalAlignment.Center

	return {
		Frame = section,
		AddParagraph = function(_, ptitle, pbody)
			return CreateParagraph(content, ptitle, pbody, Theme.StrokeColor)
		end,
		AddLabel = function(_, text)			local label = Instance.new("TextLabel")
			label.Size = UDim2.new(1, -40, 0, 24)
			label.BackgroundTransparency = 1
			label.Text = tostring(text)
			label.TextColor3 = Color3.fromRGB(220, 220, 220)
			label.Font = Theme.BodyFont
			label.TextSize = 14
			label.TextXAlignment = Enum.TextXAlignment.Left
			label.Parent = content
			return label
		end
	}
end

-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ
-- â–ˆ     MAIN LIBRARY    â–ˆ
-- â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ

local KazeUI = {}
KazeUI.__index = KazeUI

function KazeUI.new()
	local self = setmetatable({}, KazeUI)

	-- ScreenGui
	local gui = Instance.new("ScreenGui")
	gui.Name = "KazeUI"
	gui.ResetOnSpawn = false
	gui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	gui.Parent = LP:WaitForChild("PlayerGui")

	-- Scale
	local scale = Instance.new("UIScale", gui)
	local function updateScale()
		local x = workspace.CurrentCamera.ViewportSize.X
		scale.Scale = x < 600 and math.clamp(x / 800, 0.5, 1) or math.clamp(x / 1920, 0.6, 1)
	end
	updateScale()
	workspace.CurrentCamera:GetPropertyChangedSignal("ViewportSize"):Connect(updateScale)

	self._gui = gui
	self._tabs = {}
	return self
end

function KazeUI:CreateWindow(config)
	config = config or {}
	local title = config.Title or "Kaze UI"
	local author = config.Author or "Unknown"
	local version = config.Version or "1.0"	local iconId = config.Icon or "6031763447"

	local window = Instance.new("Frame")
	window.Size = UDim2.fromOffset(650, 420)
	window.Position = UDim2.fromScale(0.5, 0.5)
	window.AnchorPoint = Vector2.new(0.5, 0.5)
	window.BackgroundColor3 = Theme.WindowBG
	window.BorderSizePixel = 0
	window.ClipsDescendants = true
	window.Parent = self._gui
	Instance.new("UICorner", window).CornerRadius = UDim.new(0, Theme.WindowCornerRadius)

	local stroke = Instance.new("UIStroke")
	stroke.Color = Theme.StrokeColor
	stroke.Thickness = 2.5
	stroke.Parent = window
	StartNeonLoop(stroke)

	-- TopBar
	local topBar = Instance.new("Frame")
	topBar.Size = UDim2.new(1, 0, 0, 56)
	topBar.BackgroundColor3 = Theme.TopBarBG
	topBar.Parent = window
	Instance.new("UICorner", topBar).CornerRadius = UDim.new(0, Theme.WindowCornerRadius)
	MakeDraggable(topBar, window)

	-- Icon
	local avatar = Instance.new("ImageLabel")
	avatar.Size = UDim2.fromOffset(36, 36)
	avatar.Position = UDim2.fromOffset(12, 10)
	avatar.BackgroundColor3 = Color3.fromRGB(30, 30, 35)
	avatar.Image = FormatImage(iconId)
	avatar.Parent = topBar
	Instance.new("UICorner", avatar).CornerRadius = UDim.new(1, 0)
	Instance.new("UIStroke", avatar).Color = Theme.GlowBase

	-- Titles
	local titleLabel = Instance.new("TextLabel")
	titleLabel.Size = UDim2.new(1, -220, 0, 22)
	titleLabel.Position = UDim2.fromOffset(56, 8)
	titleLabel.BackgroundTransparency = 1
	titleLabel.Text = title
	titleLabel.TextColor3 = Theme.TitleColor
	titleLabel.Font = Theme.TitleFont
	titleLabel.TextSize = 16
	titleLabel.Parent = topBar

	local subLabel = Instance.new("TextLabel")
	subLabel.Size = UDim2.new(1, -220, 0, 18)
	subLabel.Position = UDim2.fromOffset(56, 30)	subLabel.BackgroundTransparency = 1
	subLabel.Text = author .. " | v" .. version
	subLabel.TextColor3 = Theme.SubtitleColor
	subLabel.Font = Theme.BodyFont
	subLabel.TextSize = 13
	subLabel.Parent = topBar

	-- Divider
	local divider = Instance.new("Frame")
	divider.Size = UDim2.new(1, 0, 0, 2)
	divider.Position = UDim2.new(0, 0, 1, -2)
	divider.BackgroundColor3 = Color3.fromRGB(0, 200, 255)
	divider.Parent = topBar
	Instance.new("UICorner", divider).CornerRadius = UDim.new(0, 6)
	Instance.new("UIStroke", divider).Color = Theme.StrokeColor

	-- Sidebar & Pages
	local content = Instance.new("Frame")
	content.Size = UDim2.new(1, 0, 1, -56)
	content.Position = UDim2.fromOffset(0, 56)
	content.BackgroundTransparency = 1
	content.Parent = window

	local sidebar = Instance.new("Frame")
	sidebar.Size = UDim2.new(0, 180, 1, 0)
	sidebar.BackgroundColor3 = Theme.WindowBG
	sidebar.Parent = content
	Instance.new("UICorner", sidebar).CornerRadius = UDim.new(0, Theme.WindowCornerRadius)

	local vertDiv = Instance.new("Frame")
	vertDiv.Size = UDim2.new(0, 2, 1, 0)
	vertDiv.Position = UDim2.new(0, 180, 0, 0)
	vertDiv.BackgroundColor3 = Theme.StrokeColor
	vertDiv.Parent = content
	Instance.new("UICorner", vertDiv).CornerRadius = UDim.new(0, 6)
	Instance.new("UIStroke", vertDiv).Color = Theme.StrokeColor

	local pages = Instance.new("Frame")
	pages.Size = UDim2.new(1, -182, 1, 0)
	pages.Position = UDim2.new(0, 182, 0, 0)
	pages.BackgroundColor3 = Theme.ContentBG
	pages.Parent = content
	Instance.new("UICorner", pages).CornerRadius = UDim.new(0, Theme.CornerRadius)

	-- Scrollable Tabs
	local scroller = Instance.new("ScrollingFrame")
	scroller.Size = UDim2.new(1, -16, 1, -16)
	scroller.Position = UDim2.fromOffset(8, 8)
	scroller.BackgroundTransparency = 1
	scroller.ScrollBarThickness = 6	scroller.CanvasSize = UDim2.new(0, 0, 0, 0)
	scroller.AutomaticCanvasSize = Enum.AutomaticSize.Y
	scroller.Parent = sidebar

	local tabsList = Instance.new("Frame")
	tabsList.BackgroundTransparency = 1
	tabsList.AutomaticSize = Enum.AutomaticSize.Y
	tabsList.Parent = scroller
	Instance.new("UIListLayout", tabsList).Padding = UDim.new(0, 8)

	-- Traffic Lights (Min/Max/Close)
	local function createTrafficLight(name, offsetX, color)
		local btn = Instance.new("TextButton")
		btn.Size = UDim2.fromOffset(18, 18)
		btn.Position = UDim2.new(1, offsetX, 0.5, -9)
		btn.BackgroundColor3 = color
		btn.BorderSizePixel = 0
		btn.Text = ""
		btn.Parent = topBar
		Instance.new("UICorner", btn).CornerRadius = UDim.new(1, 0)
		Instance.new("UIStroke", btn).Color = Color3.fromRGB(0, 0, 0)
		return btn
	end

	local btnGreen = createTrafficLight("green", -120, Color3.fromRGB(117, 204, 50))
	local btnYellow = createTrafficLight("yellow", -88, Color3.fromRGB(255, 204, 51))
	local btnRed = createTrafficLight("red", -56, Color3.fromRGB(235, 80, 80))

	-- Minimize logic
	local miniButton = nil
	local lastSize, lastPos, lastAnchor = window.Size, window.Position, window.AnchorPoint
	local isMaximized = false

	btnYellow.MouseButton1Click:Connect(function()
		window.Visible = false
		if not miniButton then
			miniButton = Instance.new("ImageButton")
			miniButton.Size = UDim2.fromOffset(60, 60)
			miniButton.BackgroundColor3 = Theme.WindowBG
			miniButton.BorderSizePixel = 0
			miniButton.Visible = true
			miniButton.ZIndex = 999
			miniButton.Parent = self._gui
			Instance.new("UICorner", miniButton).CornerRadius = UDim.new(0, 12)
			local icon = Instance.new("ImageLabel")
			icon.Size = UDim2.fromScale(1, 1)
			icon.Image = FormatImage(iconId)
			icon.Parent = miniButton
			local mStroke = Instance.new("UIStroke")
			mStroke.Color = Theme.StrokeColor			mStroke.Thickness = 2.5
			mStroke.Parent = miniButton
			StartNeonLoop(mStroke)
			MakeDraggable(miniButton, miniButton)
			miniButton.MouseButton1Click:Connect(function()
				miniButton.Visible = false
				window.Visible = true
				if isMaximized then
					window.AnchorPoint = Vector2.new(0.5, 0.5)
					window.Position = UDim2.fromScale(0.5, 0.5)
					TweenService:Create(window, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), { Size = UDim2.fromScale(0.9, 0.85) }):Play()
				else
					window.AnchorPoint = lastAnchor
					window.Position = lastPos
					TweenService:Create(window, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), { Size = lastSize, Position = lastPos }):Play()
				end
			end)
		end
		TweenService:Create(miniButton, TweenInfo.new(0.3, Enum.EasingStyle.Back, Enum.EasingDirection.Out), { Size = UDim2.fromOffset(60, 60) }):Play()
	end)

	btnGreen.MouseButton1Click:Connect(function()
		if not isMaximized then
			lastSize, lastPos, lastAnchor = window.Size, window.Position, window.AnchorPoint
			isMaximized = true
			window.AnchorPoint = Vector2.new(0.5, 0.5)
			window.Position = UDim2.fromScale(0.5, 0.5)
			TweenService:Create(window, TweenInfo.new(0.25), { Size = UDim2.fromScale(0.9, 0.85) }):Play()
		else
			isMaximized = false
			TweenService:Create(window, TweenInfo.new(0.25), { Size = lastSize, Position = lastPos }):Play()
			task.delay(0.25, function() window.AnchorPoint = lastAnchor end)
		end
	end)

	btnRed.MouseButton1Click:Connect(function()
		self._gui:Destroy()
	end)

	-- Window API
	local winAPI = {
		Window = window,
		_Pages = pages,
		_TabsList = tabsList,
		_StrokeColor = Theme.StrokeColor,
		_Theme = Theme
	}

	function winAPI:CreateTab(name, iconId)
		name = tostring(name or "Tab")		local tabBtn = Instance.new("TextButton")
		tabBtn.Size = UDim2.new(1, -16, 0, Theme.TabHeight)
		tabBtn.BackgroundColor3 = Theme.TabBG
		tabBtn.Text = ""
		tabBtn.AutoButtonColor = false
		tabBtn.Parent = tabsList
		tabBtn.LayoutOrder = #self._tabs + 1
		Instance.new("UICorner", tabBtn).CornerRadius = UDim.new(0, Theme.CornerRadius)

		local indicator = Instance.new("Frame")
		indicator.Size = UDim2.new(0, 4, 1, 0)
		indicator.BackgroundColor3 = Theme.StrokeColor
		indicator.Visible = false
		indicator.Parent = tabBtn
		Instance.new("UICorner", indicator).CornerRadius = UDim.new(0, 6)

		local icon = Instance.new("ImageLabel")
		icon.Size = UDim2.fromOffset(28, 28)
		icon.Position = UDim2.new(0, 10, 0.5, -14)
		icon.Image = FormatImage(iconId)
		icon.BackgroundTransparency = 1
		icon.Parent = tabBtn
		Instance.new("UICorner", icon).CornerRadius = UDim.new(1, 0)

		local label = Instance.new("TextLabel")
		label.Size = UDim2.new(1, -56, 1, 0)
		label.Position = UDim2.fromOffset(48, 0)
		label.BackgroundTransparency = 1
		label.Text = name
		label.TextColor3 = Theme.TabTextInactive
		label.Font = Theme.BodyFont
		label.TextSize = 15
		label.Parent = tabBtn

		local page = Instance.new("Frame")
		page.Size = UDim2.new(1, 0, 1, 0)
		page.BackgroundTransparency = 1
		page.Visible = false
		page.Parent = self._Pages

		local pageContent = Instance.new("Frame")
		pageContent.Size = UDim2.new(1, 0, 1, 0)
		pageContent.BackgroundTransparency = 1
		pageContent.Parent = page
		Instance.new("UIListLayout", pageContent).Padding = UDim.new(0, 8)

		local tab = {
			Button = tabBtn,
			Page = page,
			PageContent = pageContent		}
		table.insert(self._tabs, tab)

		local activate = function()
			for _, t in ipairs(self._tabs) do
				TweenService:Create(t.Button, TweenInfo.new(0.12), { BackgroundColor3 = Theme.TabBG }):Play()
				t.Button:FindFirstChild("Indicator").Visible = false
				t.Page.Visible = false
				t.Button.Label.TextColor3 = Theme.TabTextInactive
				t.Button.Label.Font = Theme.BodyFont
			end
			TweenService:Create(tabBtn, TweenInfo.new(0.12), { BackgroundColor3 = Theme.TabBGActive }):Play()
			indicator.Visible = true
			page.Visible = true
			label.TextColor3 = Theme.TabTextActive
			label.Font = Theme.TitleFont
		end

		tabBtn.MouseEnter:Connect(function()
			if not indicator.Visible then
				TweenService:Create(tabBtn, TweenInfo.new(0.1), { BackgroundColor3 = Theme.TabHover }):Play()
				label.TextColor3 = Color3.fromRGB(220, 220, 220)
			end
		end)
		tabBtn.MouseLeave:Connect(function()
			if not indicator.Visible then
				TweenService:Create(tabBtn, TweenInfo.new(0.1), { BackgroundColor3 = Theme.TabBG }):Play()
				label.TextColor3 = Theme.TabTextInactive
			end
		end)
		tabBtn.MouseButton1Click:Connect(activate)

		if #self._tabs == 1 then activate() end

		return {
			Page = page,
			Paragraph = function(_, ptitle, pbody)
				return CreateParagraph(pageContent, ptitle, pbody, self._StrokeColor)
			end,
			Section = function(_, stitle)
				return CreateSection(pageContent, stitle)
			end
		}
	end

	return winAPI
end

return KazeUI
